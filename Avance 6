#importar librerias
import datetime

#Se crean listas para ir almacenando las tareas y habitos
tasks = []
habits = []


#Funciones para crear una tarea
def task_name():
    name = input("Nombre de tu tarea: ")
    return name

def task_date():
    print("Selecciona fecha de entrega")
    day = int(input("Día: "))
    month = int(input("Mes: "))
    year = int(input("Año: "))
    due_date = datetime.date(year,month,day)
    return due_date

def task_priority():
    print("Selección de prioridad")
    priority = 0
    while (priority < 1) or (priority > 5):
        priority = int(input("Prioridad del 1 al 5: "))
        if (priority < 1) or (priority > 5):
            print("La prioridad tiene que ser un número del 1 al 5")
    return priority

def task_create():
    #Creo un diccionario para cada tarea
    new_task = {}
    new_task["name"] = task_name()
    new_task["due_date"] = task_date()
    new_task["priority"] = task_priority()

    return(new_task)


#Funciones para crear un habito
def habit_name():
    name = input("Nombre de tu habito: ")
    return name

def habit_priority():
    print("Selección de prioridad")
    priority = 0
    while (priority < 1) or (priority > 5):
        priority = int(input("Prioridad del 1 al 5: "))
        if (priority < 1) or (priority > 5):
            print("La prioridad tiene que ser un número del 1 al 5")
    return priority    

def habit_create():
    #Creo un diccionario para cad habitp
    new_habit = {}
    new_habit["name"] = habit_name()
    new_habit["priority"] = habit_priority()
    return(new_habit)

#Declarar variables
corre = True


while corre == True:
    
    #Selección de Menu
    print("Selecciona el Menú")
    option = input("1.- Tareas \n2.- Habitos \n3.- Salir \nEscribe 1 2 o 3: ")
    
    #Acciones según el menu
    if option == "1":
        print("Menú seleccionado" , "¿Crear nueva tarea?")
        create_task = input("Si / No ")
        if create_task == "Si":
             #Ciclo while que permite crear varias tareas seguidas
             while create_task == "Si":
                new_task = task_create()
                #Se agrega el diccionario completo a la lista tasks
                tasks.append(new_task)
                print("Tarea creada: ",new_task)
                create_task=input("Deseas crear otra tarea?? (Si / No):")
        elif create_task == "No":
            print("¿Mostrar tareas creadas?")
            show_task=input("Si / No ")
            if show_task == "Si":
                #Se evalua si hay tareas por mostrar
                if len(tasks) > 0:
                    print("Tareas:")
                    for task in tasks:
                        #Se imprime cada diccionario, de cada tarea por separado
                        print("Nombre:",task["name"], " Prioridad:",task["priority"], " Fecha de entrega:",task["due_date"])
                else:
                    print("No hay tareas por mostrar")

    elif option == "2":
        print("Menú seleccionado" , "Crear nuevo habito?")
        create_habit = input("Si / No ")
        if create_habit == "Si":
            while create_habit == "Si":
                new_habit = habit_create()
                habits.append(new_habit)
                print("Habito creado",new_habit)
                create_habit=input("Crear otro habito (Si / No): ")
        elif create_habit == "No":
            print("¿Mostras habitos creados?")
            show_habit = input("Si / No")
            if show_habit == "Si":
                if len(habits)>0:
                    print("Habitos: ")
                    for habit in habits:
                        print("Nombre:",habit["name"]," Prioridad:",habit["priority"]," Fecha de entrega:",habit["due_date"])
                else:
                    print("No hay habitos por mostrar")

    elif option == "3":
        print("Agenda cerrada")
        break
    else:
        print("Entrada no valida, escribe 1 2 o 3")

